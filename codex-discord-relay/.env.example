# Discord bot token from Discord Developer Portal
DISCORD_BOT_TOKEN=

# Agent backend: "codex" (default) or "claude"
RELAY_AGENT_PROVIDER=codex

# Optional: codex binary path
CODEX_BIN=codex
# Optional: claude binary path (used when RELAY_AGENT_PROVIDER=claude)
CLAUDE_BIN=claude
# Max runtime per agent invocation in milliseconds (set 0 to disable timeout)
RELAY_AGENT_TIMEOUT_MS=600000

# Default working directory for Codex sessions
CODEX_WORKDIR=/root

# Restrict /workdir command to these roots (comma-separated)
CODEX_ALLOWED_WORKDIR_ROOTS=/root

# Optional: model override (empty = codex default)
CODEX_MODEL=
# Optional: model override for Claude (empty = claude default)
CLAUDE_MODEL=
# Optional: Claude permission mode (default = Claude CLI default)
# Examples: default, acceptEdits, delegate, plan
CLAUDE_PERMISSION_MODE=

# Sandbox and approval behavior
CODEX_SANDBOX=workspace-write
# Approval policy is configured via Codex config (approval_policy). Common values: never, on-request
CODEX_APPROVAL=never
# Optional explicit alias (preferred name)
CODEX_APPROVAL_POLICY=

# Enable web search and skip git repo check when needed
CODEX_ENABLE_SEARCH=true
CODEX_SKIP_GIT_REPO_CHECK=true

# Optional codex config overrides, semicolon-separated
# Example: model_provider="openai";model_reasoning_effort="high"
CODEX_CONFIG_OVERRIDES=

# Relay runtime paths
RELAY_STATE_DIR=/root/.codex-discord-relay
RELAY_STATE_FILE=/root/.codex-discord-relay/sessions.json
RELAY_MAX_REPLY_CHARS=1800
RELAY_ATTACH_ALLOW_GUILDS=false

# Optional allowlists (comma-separated IDs)
DISCORD_ALLOWED_GUILDS=
DISCORD_ALLOWED_CHANNELS=

# Thread behavior
# When true, in guild threads the bot will respond without requiring an @mention.
# Default: true if DISCORD_ALLOWED_CHANNELS is set; otherwise false.
# RELAY_THREAD_AUTO_RESPOND=true

# Uploads (image attachments)
# If enabled, Codex can request image uploads by including markers like:
#   [[upload:plot.png]]
# Paths are resolved relative to a per-conversation upload directory under RELAY_UPLOAD_ROOT_DIR
# (defaults to $RELAY_STATE_DIR/uploads).
RELAY_UPLOAD_ENABLED=true
# RELAY_UPLOAD_ROOT_DIR=/root/.codex-discord-relay/uploads
RELAY_UPLOAD_MAX_FILES=3
RELAY_UPLOAD_MAX_BYTES=8388608
# By default, uploads are restricted to the per-conversation upload_dir. If you set this true,
# you must also set RELAY_UPLOAD_ALLOWED_ROOTS safely (or it will default to RELAY_UPLOAD_ROOT_DIR).
RELAY_UPLOAD_ALLOW_OUTSIDE_CONVERSATION=false
RELAY_UPLOAD_ALLOWED_ROOTS=

# Optional: proxy for Discord connectivity (esp. restricted networks).
# Note: the ensure script also sources /root/.openclaw/proxy.env if present.
DISCORD_GATEWAY_PROXY=
