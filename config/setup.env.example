# Copy to config/setup.env and fill. Do NOT commit real tokens/keys.

# -------- Proxy (China/GFW) --------
# Example: http://127.0.0.1:7897 (Clash)
OPENCLAW_PROXY_URL=
NO_PROXY=127.0.0.1,localhost,::1

# -------- OpenClaw (optional) --------
# Install version (npm). Leave empty for latest.
OPENCLAW_VERSION=2026.2.12

# If you want OpenClaw itself on Discord, set this.
OPENCLAW_DISCORD_BOT_TOKEN=
# Optionally allowlist a specific guild+channel (recommended)
OPENCLAW_DISCORD_GUILD_ID=
OPENCLAW_DISCORD_CHANNEL_ID=

# Optional: disable built-in web search tool to avoid Brave-key errors.
OPENCLAW_DISABLE_BUILTIN_WEB_SEARCH=true

# -------- Codex Discord Relay (required for "Codex via Discord") --------
CODEX_DISCORD_BOT_TOKEN=
# Optional allowlists (comma-separated). Channel allowlist applies to guild channels only.
CODEX_ALLOWED_GUILDS=
CODEX_ALLOWED_CHANNELS=

# Codex runtime defaults
CODEX_WORKDIR=/root
CODEX_ALLOWED_WORKDIR_ROOTS=/root
CODEX_MODEL=
CODEX_SANDBOX=danger-full-access
CODEX_APPROVAL_POLICY=never
# Compatibility alias used by some relay revisions:
CODEX_APPROVAL=never
CODEX_ENABLE_SEARCH=true
CODEX_SKIP_GIT_REPO_CHECK=true

# Relay execution behavior
RELAY_AGENT_PROVIDER=codex
RELAY_AGENT_TIMEOUT_MS=600000
RELAY_THREAD_AUTO_RESPOND=true

# Relay progress updates
RELAY_PROGRESS=true
RELAY_PROGRESS_MIN_EDIT_MS=5000
RELAY_PROGRESS_HEARTBEAT_MS=20000
RELAY_PROGRESS_MAX_LINES=6
RELAY_PROGRESS_SHOW_COMMANDS=false

# Relay global context â€” injected into every agent message so agents always have
# current context (speech-to-text note, ecosystem info, key paths) without resets.
RELAY_CONTEXT_ENABLED=true
RELAY_CONTEXT_EVERY_TURN=true
# Increase to force one-time re-bootstrap for existing sessions.
RELAY_CONTEXT_VERSION=1
# Semicolon-separated context specs. Prefix modes: head:, tail:, headtail:
# Relative paths resolve against the current session workdir.
RELAY_CONTEXT_FILE="/root/.codex-discord-relay/global-context.md;tail:docs/WORKING_MEMORY.md;tail:HANDOFF_LOG.md"
RELAY_CONTEXT_MAX_CHARS=6000
RELAY_CONTEXT_MAX_CHARS_PER_FILE=2000

# Relay upload bridge
RELAY_UPLOAD_ENABLED=true
RELAY_UPLOAD_ALLOW_OUTSIDE_CONVERSATION=true
RELAY_UPLOAD_ALLOWED_ROOTS=/root,/tmp
RELAY_UPLOAD_MAX_FILES=3
RELAY_UPLOAD_MAX_BYTES=8388608

# Advanced
CODEX_BIN=codex
NODE_BIN=

# -------- Packaged Skills (local Codex skills) --------
# Installs skills bundled in this repo into $CODEX_HOME/skills (or ~/.codex/skills).
OPENCLAW_INSTALL_PACKAGED_SKILLS=true
# Optional subset (comma-separated names from packaged-skills/codex):
# OPENCLAW_PACKAGED_SKILLS_ONLY=discord-image-upload,openclaw-media-send
# Optional target override:
# OPENCLAW_PACKAGED_SKILLS_TARGET=/root/.codex/skills
# Whether to overwrite existing installed skill dirs:
OPENCLAW_PACKAGED_SKILLS_OVERWRITE=true
# Optional: sync local skills into packaged-skills/codex during bootstrap.
OPENCLAW_SYNC_LOCAL_SKILLS_ON_BOOTSTRAP=false
# Comma-separated local skill names to package.
OPENCLAW_LOCAL_SKILLS_TO_PACKAGE=tavily-search,delegate-coding-tasks

# -------- Global Agent Context (AGENTS / CLAUDE / OVERVIEW) --------
# Auto-install template context files during bootstrap.
OPENCLAW_INSTALL_GLOBAL_CONTEXT=true
# Never overwrite existing context files unless explicitly enabled.
OPENCLAW_GLOBAL_CONTEXT_OVERWRITE=false
# Target home for installed files (must be absolute path).
OPENCLAW_GLOBAL_CONTEXT_TARGET_HOME=/root

# -------- Machine State Snapshot (machine -> repo, repo -> machine) --------
# Redact secrets by default. Set true only for trusted/private repos.
OPENCLAW_STATE_SYNC_INCLUDE_SECRETS=false
# Snapshot location inside this repository:
OPENCLAW_STATE_SYNC_OUTPUT_DIR=
# Skills captured by export_local_state.sh
OPENCLAW_STATE_SYNC_OPENCLAW_SKILLS=tavily-search,delegate-coding-tasks
OPENCLAW_STATE_SYNC_CODEX_SKILLS=
# Optional bootstrap hooks:
OPENCLAW_APPLY_SNAPSHOT_ON_BOOTSTRAP=false
OPENCLAW_EXPORT_SNAPSHOT_ON_BOOTSTRAP=false
# sync_local_state_to_repo.sh defaults:
OPENCLAW_STATE_SYNC_COMMIT=true
OPENCLAW_STATE_SYNC_PUSH=false
OPENCLAW_STATE_SYNC_COMMIT_MESSAGE=chore: sync local machine state snapshot
# Optional cron-based machine->repo sync (disabled by default):
OPENCLAW_STATE_SYNC_CRON_ENABLED=false
OPENCLAW_STATE_SYNC_CRON=12 * * * *
# OPENCLAW_STATE_SYNC_LOG=/var/log/openclaw-state-sync.log

# -------- Toolkit Auto-Update (systemd timer) --------
# Enables periodic git pull + deploy reconciliation for this toolkit repo.
OPENCLAW_KIT_AUTOUPDATE_ENABLED=true
# Examples: daily, weekly, *-*-* 03:00:00, Mon *-*-* 04:00:00
OPENCLAW_KIT_AUTOUPDATE_CALENDAR=daily
# Add jitter so many hosts don't hit remote at the same time.
OPENCLAW_KIT_AUTOUPDATE_RANDOMIZED_DELAY=30m
OPENCLAW_KIT_AUTOUPDATE_PERSISTENT=true
# Optional overrides:
# OPENCLAW_KIT_AUTOUPDATE_REPO_DIR=/root/openclaw-codex-discord-skills-kit
# OPENCLAW_KIT_AUTOUPDATE_LOG=/var/log/openclaw-kit-autoupdate.log
# Cron fallback used only when systemd is unavailable:
# OPENCLAW_KIT_AUTOUPDATE_CRON=17 3 * * *
